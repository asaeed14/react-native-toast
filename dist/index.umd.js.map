{"version":3,"file":"index.umd.js","sources":["../src/Toast/style.ts","../src/Toast/index.tsx","../src/Toast/ToastContext.tsx"],"sourcesContent":["// @ts-ignore\nimport { StyleSheet } from 'react-native';\n\nconst style = StyleSheet.create({\n  toastWrapper: {\n    position: 'absolute',\n    bottom: 32,\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    padding: 12,\n    textAlign: 'center',\n    zIndex: 100000000000,\n    backgroundColor: '#ffffff',\n    borderRadius: 4,\n    justifyContent: 'space-between',\n  },\n  toastMessage: {\n    color: 'rgba(0, 0, 0, 0.94)',\n    fontWeight: '600',\n  },\n  animation: {\n    width: 40,\n    height: 40,\n  },\n});\n\nexport default style;\n","/**\n *\n * Toast\n *\n */\nimport React, {\n  useEffect,\n  useRef,\n  forwardRef,\n  useState,\n  useImperativeHandle,\n} from 'react';\n// @ts-ignore\nimport { Animated, Text } from 'react-native';\nimport style from './style';\nimport { ToastProps } from '../types';\n\nconst Toast: React.FC<ToastProps> = forwardRef((props, ref) => {\n  const [showToast, setShowToast] = useState(false);\n  const [delay, setDelay] = useState(300);\n  // const [toastType, setToastType] = useState('');\n  const [message, setMessage] = useState(props.message);\n  const animatedValue = useRef(new Animated.Value(0)).current;\n\n  useImperativeHandle(ref, () => ({\n    show(msg: string, time: number) {\n      if (msg) {\n        setMessage(msg);\n        setDelay(time);\n        // setToastType(type);\n      }\n      setShowToast(true);\n    },\n  }));\n\n  useEffect(() => {\n    if (showToast) {\n      Animated.sequence([\n        Animated.timing(animatedValue, {\n          toValue: 1,\n          duration: 200,\n          useNativeDriver: false,\n        }),\n        Animated.timing(animatedValue, {\n          toValue: 0,\n          duration: 300,\n          delay,\n          useNativeDriver: false,\n        }),\n      ]).start(() => setShowToast(false));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showToast]);\n\n  return (\n    <Animated.View style={[style.toastWrapper, { opacity: animatedValue }]}>\n      <Text style={[style.toastMessage]}>{message}</Text>\n    </Animated.View>\n  );\n});\n\nexport default React.memo(Toast);\n","import React, { useContext, useRef } from 'react';\nimport Toast from './index';\nimport { IToastShow, IToast, ToastContextProps } from '../types';\n\nconst ToastContext = React.createContext({} as IToast);\n\nconst ToastProvider: React.FC<ToastContextProps> = (props) => {\n  const toastRef = useRef(null);\n  const show = ({\n    delay = 300,\n    message = '',\n    type = undefined,\n  }: IToastShow) => {\n    if (toastRef.current) {\n      // @ts-ignore\n      toastRef.current.show(message, delay, type);\n    }\n  };\n  return (\n    <ToastContext.Provider value={{ show }}>\n      {props.children}\n      <Toast ref={toastRef} />\n    </ToastContext.Provider>\n  );\n};\n\nconst ToastConsumer = ToastContext.Consumer;\n\nfunction useToastContext(): IToast {\n  return useContext(ToastContext);\n}\n\nexport { ToastProvider, useToastContext };\n"],"names":["StyleSheet","forwardRef","useState","useRef","Animated","useImperativeHandle","useEffect","React","Text","Toast","useContext"],"mappings":"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"}