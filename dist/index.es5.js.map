{"version":3,"file":"index.es5.js","sources":["../src/Toast/style.ts","../src/Toast/index.tsx","../src/Toast/ToastContext.tsx"],"sourcesContent":["// @ts-ignore\nimport { StyleSheet } from 'react-native';\n\nconst style = StyleSheet.create({\n  toastWrapper: {\n    position: 'absolute',\n    bottom: 32,\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'center',\n    padding: 12,\n    textAlign: 'center',\n    zIndex: 100000000000,\n    backgroundColor: '#ffffff',\n    borderRadius: 4,\n    justifyContent: 'space-between',\n  },\n  toastMessage: {\n    color: 'rgba(0, 0, 0, 0.94)',\n    fontWeight: '600',\n  },\n  animation: {\n    width: 40,\n    height: 40,\n  },\n});\n\nexport default style;\n","/**\n *\n * Toast\n *\n */\nimport React, {\n  useEffect,\n  useRef,\n  forwardRef,\n  useState,\n  useImperativeHandle,\n} from 'react';\n// @ts-ignore\nimport { Animated, Text } from 'react-native';\nimport style from './style';\nimport { ToastProps } from '../types';\n\nconst Toast: React.FC<ToastProps> = forwardRef((props, ref) => {\n  const [showToast, setShowToast] = useState(false);\n  const [delay, setDelay] = useState(300);\n  // const [toastType, setToastType] = useState('');\n  const [message, setMessage] = useState(props.message);\n  const animatedValue = useRef(new Animated.Value(0)).current;\n\n  useImperativeHandle(ref, () => ({\n    show(msg: string, time: number) {\n      if (msg) {\n        setMessage(msg);\n        setDelay(time);\n        // setToastType(type);\n      }\n      setShowToast(true);\n    },\n  }));\n\n  useEffect(() => {\n    if (showToast) {\n      Animated.sequence([\n        Animated.timing(animatedValue, {\n          toValue: 1,\n          duration: 200,\n          useNativeDriver: false,\n        }),\n        Animated.timing(animatedValue, {\n          toValue: 0,\n          duration: 300,\n          delay,\n          useNativeDriver: false,\n        }),\n      ]).start(() => setShowToast(false));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showToast]);\n\n  return (\n    <Animated.View style={[style.toastWrapper, { opacity: animatedValue }]}>\n      <Text style={[style.toastMessage]}>{message}</Text>\n    </Animated.View>\n  );\n});\n\nexport default React.memo(Toast);\n","import React, { useContext, useRef } from 'react';\nimport Toast from './index';\nimport { IToastShow, IToast, ToastContextProps } from '../types';\n\nconst ToastContext = React.createContext({} as IToast);\n\nconst ToastProvider: React.FC<ToastContextProps> = (props) => {\n  const toastRef = useRef(null);\n  const show = ({\n    delay = 300,\n    message = '',\n    type = undefined,\n  }: IToastShow) => {\n    if (toastRef.current) {\n      // @ts-ignore\n      toastRef.current.show(message, delay, type);\n    }\n  };\n  return (\n    <ToastContext.Provider value={{ show }}>\n      {props.children}\n      <Toast ref={toastRef} />\n    </ToastContext.Provider>\n  );\n};\n\nconst ToastConsumer = ToastContext.Consumer;\n\nfunction useToastContext(): IToast {\n  return useContext(ToastContext);\n}\n\nexport { ToastProvider, useToastContext };\n"],"names":["Toast"],"mappings":"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"}